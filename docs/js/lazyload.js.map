{"version":3,"sources":["lazyload.js"],"names":["w","videos","document","querySelectorAll","supportsVideoType","type","video","formats","ogg","h264","webm","vp9","hls","createElement","canPlayType","forEach","classList","add","setAttribute","getAttribute","load","play","global"],"mappings":";;;;AAAC,WAASA,CAAT,EAAW;AACV,MAAMC,sCAAaC,SAASC,gBAAT,CAA0B,iBAA1B,CAAb,EAAN;;AAEA,WAASC,iBAAT,CAA2BC,IAA3B,EAAiC;AAC/B,QAAIC,cAAJ;;AAEA;AACA,QAAIC,UAAU;AACZC,WAAK,4BADO;AAEZC,YAAM,iCAFM;AAGZC,YAAM,kCAHM;AAIZC,WAAK,0BAJO;AAKZC,WAAK;AALO,KAAd;;AAQA,QAAG,CAACN,KAAJ,EAAW;AACTA,cAAQJ,SAASW,aAAT,CAAuB,OAAvB,CAAR;AACD;;AAED,WAAOP,MAAMQ,WAAN,CAAkBP,QAAQF,IAAR,KAAiBA,IAAnC,CAAP;AACD;;AAED,MAAGD,kBAAkB,MAAlB,MAA8B,UAAjC,EAA6C;AAC3CH,WAAOc,OAAP,CAAgB,iBAAS;AACvBT,YAAMU,SAAN,CAAgBC,GAAhB,CAAoB,WAApB;AACAX,YAAMY,YAAN,CAAmB,KAAnB,EAA0BZ,MAAMa,YAAN,CAAmB,UAAnB,CAA1B;AACEb,YAAMc,IAAN;AACAd,YAAMU,SAAN,CAAgBC,GAAhB,CAAoB,QAApB;AACAX,YAAMe,IAAN;AACH,KAND;AAOD;AAEF,CAhCA,EAgCC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,YAhCD,CAAD","file":"lazyload.js","sourcesContent":["(function(w){\n  const videos = [...document.querySelectorAll('video[data-src]')];\n\n  function supportsVideoType(type) {\n    let video;\n\n    // Allow user to create shortcuts, i.e. just \"webm\"\n    let formats = {\n      ogg: 'video/ogg; codecs=\"theora\"',\n      h264: 'video/mp4; codecs=\"avc1.42E01E\"',\n      webm: 'video/webm; codecs=\"vp8, vorbis\"',\n      vp9: 'video/webm; codecs=\"vp9\"',\n      hls: 'application/x-mpegURL; codecs=\"avc1.42E01E\"'\n    };\n\n    if(!video) {\n      video = document.createElement('video')\n    }\n\n    return video.canPlayType(formats[type] || type);\n  }\n\n  if(supportsVideoType('h264') === \"probably\") {\n    videos.forEach( video => {\n      video.classList.add('lazy-load');\n      video.setAttribute('src', video.getAttribute('data-src'));\n        video.load();\n        video.classList.add('loaded');\n        video.play();\n    })\n  }\n\n}(typeof global !== \"undefined\" ? global : this));"]}